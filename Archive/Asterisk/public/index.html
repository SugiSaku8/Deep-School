<!DOCTYPE html>
<html lang="ja">

<head>
  <link rel="manifest" href="/manifest.json">
  <link id="icon" rel="icon" href="/logo/Aterisk.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>â„«sterisk</title>
  <meta property="analytics-track" content="Asterisk - Index/Tab" />
  <meta property="analytics-s-channel" content="homepage" />
  <meta property="analytics-s-bucket-0" content="Asterisk" />
  <meta property="analytics-s-bucket-1" content="Asterisk" />
  <meta property="analytics-s-bucket-2" content="Asterisk" />
  <meta name="Description" content="Asterisk" />
  <meta property="og:title" content="Asterisk" />
  <meta property="og:description" content="Asterisk" />
  <meta property="og:url" content="https://asterisk.jsjs8.repl.co/" />
  <meta property="og:locale" content="ja" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Asterisk" />
  <link rel="stylesheet" type="text/css" href="/astrerisk_ja.css" />
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="js/jscookie.js" type="module"></script>
  <script src="js/shortcut.js" type="module"></script>
</head>

<body>

  <!---<div id="loading">
		<div class="video-container">
		 <video src="data/video/Ateriskèµ·å‹•ç”»é¢.mp4" autoplay muted loop></video>
		</div>
	</div>
	--->
  <div id="hamburger">
    <input type="checkbox" id="checkbox" />
    <label class="burger" for="checkbox" onclick="var nav = document.getElementById('nav');
			 if (nav.classList.contains('show')) {
			   nav.classList.remove('show');
			 } else {
			   nav.classList.add('show');
			 }">
      <button>
        <div class="container top">
          <div id="line" class="line top"></div>
        </div>
        <div class="container bottom">
          <div id="line" class="line bottom"></div>
        </div>
      </button>
    </label>
  </div>

  <nav id="nav">
    <ul>
      <li><a onclick="openandel()">æ–°ã—ã„æŠ•ç¨¿ã‚’ä½œã‚‹</a></li>
      <li><a href="#">å‹‰å¼·ç›¸è«‡å®¤ã‚’è¦‹ã‚‹</a></li>
      <li><a href="#">Pladsã‚’è¦‹ã‚‹</a></li>
      <li><a href="#">è¨­å®š</a></li>
      <li><a href="about.html">Asteriskã«ã¤ã„ã¦</a></li>
    </ul>
  </nav>

  <div id="welcome_main_screen">
    <div class="welcome_msg">
      ã•ã‚ã€å§‹ã‚ã‚ˆã†ã€‚
    </div>
    <div class="welcome_msg_minimal" style="text-align: center;">
      <p style="width:27%"></p>ã¯ã˜ã‚ã¾ã—ã¦ã€‚â„«sterisk
    </div>
    <div style="display:flex;">
      <br>
      <button class="singin_big">ã•ãã€ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã—ã¦<br>å§‹ã‚ã‚ˆã†ã€‚</button>
    </div>
  </div>
  <div class="cookie" id="cookie">
    <p>          </p>
    <p class="Cookie_setting_msg">ã¾ãšã€CookieğŸªã®è¨­å®šã‚’ã—ã¦ãã ã•ã„ã€‚</p>
    <div style="display:flex;">
      <button class="cookieonof" onclick="usecookie();">Cookiesã®ä½¿ç”¨ã‚’<br>è¨±å¯ã—ã¾ã™ã€‚</button>
      <button class="cookieonof" onclick="usecookie();">Cookiesã®ä½¿ç”¨ã‚’<br>æ‹’å¦ã—ã¾ã™ã€‚</button>
    </div>
    <p onclick="window.open('https://ba425a15-614c-41e5-84c7-a956b8036f1c-00-djb2x7uiecgk.sisko.replit.dev/data/help/Cookieja.html')" class="">ä½•ã«Cookieã‚’ä½¿ç”¨ã—ã¾ã™ã‹ï¼Ÿ</p>
  </div>
  <div class="newandel" id="newandel">
    <p>ã‚¿ã‚¤ãƒˆãƒ«:</p>
    <label>
      <textarea id="title" class="textbox-001" placeholder="æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«"></textarea>
    </label>
    <p>ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å:</p>
    <label>
      <textarea id="user" class="textbox-001" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼å"></textarea>
    </label>
    <p>ã‚¸ãƒ£ãƒ³ãƒ«:</p>
    <textarea class="textbox-003" placeholder="ã‚¸ãƒ£ãƒ³ãƒ«" id="genre"></textarea>
    </label>
    <p>å†…å®¹:</p>
    <label>
      <textarea id="naiyou" class="textbox-003" placeholder="æŠ•ç¨¿ã®å†…å®¹"></textarea>
    </label>
    <button id="go" onclick="RUN()">é€ä¿¡ã™ã‚‹ã€€</button>
  </div>
  <div id="andel-container"></div> 
  <script>
    /*
  let data = {
  "andel": "ãƒ†ã‚¹ãƒˆ",
  "title": "ãƒ†ã‚¹ãƒˆ",
  "user": "ã•ãã‚„",
  "body": "ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆã§æœ‰ã‚Šç¶šã‘ã‚‹é™ã‚Šãƒ†ã‚¹ãƒˆã§ã™ã€‚",
  "genre": "ãƒ†ã‚¹ãƒˆ"
}
*/
    /*window.onload = function() {
		  const spinner = document.getElementById('loading');
		  spinner.classList.add('loaded');
		}*/
    let classs_name_idx = 0;

    function print(content, className, id) {
      var newElement = document.createElement("div");
      newElement.textContent = content;
      newElement.className = className;
      newElement.id = id;
      document.body.appendChild(newElement);
    }

    let data = {
      "andel": null,
      "title": null,
      "user": null,
      "body": null,
      "genre": null
    }

    function output_andel(data) {
      let output_andel = data.andel;
      let output_title = data.title;
      let output_user = data.user;
      let output_body = data.body;
      let output_genre = data.genre;
      print(output_andel, classs_name_idx, "andel")
      print(output_title, classs_name_idx, "title")
      print(output_user, classs_name_idx, "user")
      print(output_body, classs_name_idx, "body")
      print(output_genre, classs_name_idx, "body")
    }

    document.getElementById("newandel").style.display = "none";

    function RUN(data) {
      console.log(data)
      let title = document.getElementById("title").value
      let user = document.getElementById("user").value
      let genre = document.getElementById("genre").value
      let naiyou = document.getElementById("naiyou").value
      data = {
        "andel": title,
        "title": title,
        "user": user,
        "body": naiyou,
        "genre": genre
        /* "andel": "ãƒ†ã‚¹ãƒˆ",
				  "title": "åˆ†æ•°ã®è¨ˆç®—ã«ã¤ã„ã¦",
				  "user": "æ‰å±±",
				  "body": "åˆ†æ•°ã®æ›ã‘ç®—ã®æ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚\nãŠé¡˜ã„ã—ã¾ã™ã€‚",
				  "genre": "å‹‰å¼·ç›¸è«‡å®¤"
      */
      }
      andel(data)
      document.getElementById("newandel").style.display = "none";
    }

    function secu() {
      let set = Cookies.get('odls')
      if (set === undefined) {
        let s1 = Cookies.get('sec_1');
        let s2 = Cookies.get('sec_2');
        let s3 = Cookies.get('sec_3');
        let s4 = Cookies.get('sec_4');
        let sh1 = ((s1 && s2) === undefined)
        let sh2 = ((s3 && s4) === undefined)
        let she = (sh1 && sh2)
        if (she === true) {
          Cookies.set('odls', 'true', { expires: 28 });
          //28æ—¥ã§æœ‰åŠ¹æœŸé™åˆ‡ã‚Œã«ãªã‚‹Cookieã€‚
          console.warn("The security protection cookie expires after 28 days.")
        }
      }
    }

    function update() {
      console.log("helloworld")
    }

    //Serviceworkerã®ç™»éŒ²
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then((registration) => {
          console.log('Service Worker registered with scope: ', registration.scope);
        })
        .catch((err) => {
          console.log('Service Worker registration failed: ', err);
        });
    }

    function andel(data) {
      fetch('https://ba425a15-614c-41e5-84c7-a956b8036f1c-00-djb2x7uiecgk.sisko.replit.dev/send', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch((error) => console.error('Error:', error));
    }

    function get(andel) {
      fetch('https://ba425a15-614c-41e5-84c7-a956b8036f1c-00-djb2x7uiecgk.sisko.replit.dev/get', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ "andel": andel }) // Pass the random number
      })
        .then(response => response.json()) // Parse the response as JSON
        .then(data => {
          console.log(data); // Log the data
          let content = data;
          console.log(content); // Log the content

          // Andel-containerè¦ç´ ã‚’å–å¾—
          const andelContainer = document.getElementById("andel-container");

          // å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’Andel-containerè¦ç´ ã«æ›¸ãè¾¼ã‚€
          andelContainer.innerHTML = `
            <div class="andel">${content.andel}</div>
            <div class="title">${content.title}</div>
            <div class="user">${content.user}</div>
            <div class="body">${content.body}</div>
            <div class="genre">${content.genre}</div>
          `;
          
          // output_andel(content);
          // Open a new window with the content
          // window.open('', '_blank', 'width=800,height=600');
        })
        .catch((error) => console.error('Error:', error));
    }

    function Hex() {
      let hex = '';
      for (let i = 0; i < 15; i++) {
        hex += Math.floor(Math.random() * 16).toString(16);
      }
      return hex;
    }

    let id = Hex();

    function openandel() {
      var change = document.getElementById("newandel")

      if (change.style.display == "block") {
        change.style.display = "none";
      } else {
        change.style.display = "block";
      }
    }

    function usecookie() {
      var change = document.getElementById("cookie")

      if (change.style.display == "block") {
        change.style.display = "none";
      } else {
        change.style.display = "block";
      }
    }
  </script>
  <script id="get">
	  function get(andel) {
	    fetch('https://ba425a15-614c-41e5-84c7-a956b8036f1c-00-djb2x7uiecgk.sisko.replit.dev/get', {
	      method: 'POST',
	      headers: {
		'Content-Type': 'application/json'
	      },
	      body: JSON.stringify({ "andel": andel }) // Pass the andel value
	    })
	      .then(response => response.json()) // Parse the response as JSON
	      .then(data => {
		console.log(data); // Log the data
		let content = data;
		console.log(content); // Log the content

		// Andel-containerè¦ç´ ã‚’å–å¾—
		const andelContainer = document.getElementById("andel-container");

		// å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’Andel-containerè¦ç´ ã«æ›¸ãè¾¼ã‚€
		andelContainer.innerHTML = `
		  <div class="andel">${content.andel}</div>
		  <div class="title">${content.title}</div>
		  <div class="user">${content.user}</div>
		  <div class="body">${content.body}</div>
		  <div class="genre">${content.genre}</div>
		`;

		// output_andel(content);
		// Open a new window with the content
		// window.open('', '_blank', 'width=800,height=600');
	      })
	      .catch((error) => console.error('Error:', error));
	  }
	  let andelValue = "Sakuya Sugiyama_Welcome to the â„«sterisk..json"; 
	  get(andelValue);
  </script>
</body>

</html>