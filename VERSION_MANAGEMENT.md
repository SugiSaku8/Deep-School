# Deep-School Version Management System

## æ¦‚è¦

Deep-School Version Management Systemã¯ã€Deep-Schoolãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢å…¨ä½“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚æŒ‡å®šã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ãƒªãƒªãƒ¼ã‚¹ã‚µã‚¤ã‚¯ãƒ«ã«å¾“ã£ã¦ã€ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¿½è·¡ãƒ»ç®¡ç†ã—ã¾ã™ã€‚

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### Deep-School CLIENT/SERVER/PICKRAMU
```
v.CYCLE-NUMBER.RELEASE-NUMBER.REVISION(.STATUS=OPTION)
                                                                                     [NIGHTLY,BETA,PRE]
```

**ä¾‹:**
- 1ã‚µã‚¤ã‚¯ãƒ«ç›®ã®3ç•ªç›®ã®ãƒªãƒªãƒ¼ã‚¹ã€ãƒªãƒ“ã‚¸ãƒ§ãƒ³2 â†’ `v1.3.2`
- 3ã‚µã‚¤ã‚¯ãƒ«ç›®ã®12ç•ªç›®ã®ãƒªãƒªãƒ¼ã‚¹ã€ãƒªãƒ“ã‚¸ãƒ§ãƒ³6ã®ãƒŠã‚¤ãƒˆãƒªãƒ¼ â†’ `v3.12.6.nightly`

### TOASTER-MACHINE
```
v.CYCLE-NUMBER.RELEASE-NUMBER.REVISION
```

**ä¾‹:**
- 1ã‚µã‚¤ã‚¯ãƒ«ç›®ã®3ç•ªç›®ã®ãƒªãƒªãƒ¼ã‚¹ã€ãƒªãƒ“ã‚¸ãƒ§ãƒ³2 â†’ `v1.3.2`

### DEEP-SCHOOL-FAMILY-SOFTWARE
```
YEAR(FIRST-CODE-RELEASED-YEAR,EXAMPLE 2025 TO 25)C[BUILD-NUMBER][RELEASE-NUMBER] (.STATUS=OPTION)
                                                                                     [NIGHTLY,BETA,PRE]
```

**ä¾‹:**
- 2025å¹´ã®12ãƒ“ãƒ«ãƒ‰ã€5ãƒªãƒªãƒ¼ã‚¹ â†’ `25C1205`

## ãƒªãƒªãƒ¼ã‚¹ã‚µã‚¤ã‚¯ãƒ«

### DEEP-SCHOOL CLIENT RELEASE CYCLE

Deep-Schoolã¯ã€åŸºæœ¬çš„ã«æ¬¡ã®ã‚ˆã†ã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã€‚

- **åŸºæœ¬çš„ã«1ã‚µã‚¤ã‚¯ãƒ«1å¹´**ã§è¡Œã†ã€‚(SERVERã¯åŒã˜ã€PICKRAMUã¯3å¹´å‘¨æœŸ)
- **ã‚µã‚¤ã‚¯ãƒ«æ›´æ–°æ—¥**: 10/13, 10/03, 4/15, 9/1ã®ã„ãšã‚Œã‹
- **ãƒªãƒªãƒ¼ã‚¹**: ä¸å®šæœŸã§è¡Œã„ã€æ–°æ©Ÿèƒ½ãŒå®‰å®šã—ãŸã‚‰ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹
- **ãƒªãƒªãƒ¼ã‚¹æ—¥**: 1, 5, 10, 25, 30ã®ã„ãšã‚Œã‹ã®æ—¥
- **ãƒªãƒ“ã‚¸ãƒ§ãƒ³**: ä¸»ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã‚’å«ã‚€ãƒã‚°ä¿®æ­£ã‚„DEEP-SCHOOL-FAMILY-SOFTWAREã®ã‚³ãƒ¼ãƒ‰æ›´æ–°
- **ãƒªãƒ“ã‚¸ãƒ§ãƒ³å…¬é–‹**: ä¿®æ­£æ¬¡ç¬¬NIGHTLYã§å…¬é–‹ã—ã€1æ—¥å¾Œã«ãƒ¡ã‚¤ãƒ³ã‚µã‚¤ã‚¯ãƒ«ã«åŸ‹ã‚è¾¼ã‚€
- **BETA/PRE**: ã‚µã‚¤ã‚¯ãƒ«æ›´æ–°/ãƒªãƒªãƒ¼ã‚¹å‰ã€æ˜¨æ—¥ãŒç™ºè¡¨ã•ã‚ŒãŸã‚‰ã¾ãšãã®æ©Ÿèƒ½ã‚’BETAã¨ã—ã¦å…¬é–‹ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’çµŒã¦ã€æœ€çµ‚ãƒ†ã‚¹ãƒˆç‰ˆPREã‚’å…¬é–‹ã™ã‚‹

### TOASTER-MACHINE CLIENT RELEASE CYCLE

TOASTER-MACHINEã¯ã€åŸºæœ¬çš„ã«æ¬¡ã®ã‚ˆã†ã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã€‚

- **åŸºæœ¬çš„ã«1ã‚µã‚¤ã‚¯ãƒ«1/2å¹´**ã§è¡Œã†
- **ã‚µã‚¤ã‚¯ãƒ«æ›´æ–°æ—¥**: 10/13, 10/03, 4/15, 9/1, 8/1, 12/26ã®ã„ãšã‚Œã‹
- **ãƒªãƒªãƒ¼ã‚¹**: ä¸å®šæœŸã§è¡Œã„ã€æ–°æ©Ÿèƒ½ãŒå®‰å®šã—ãŸã‚‰ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹
- **ãƒªãƒªãƒ¼ã‚¹æ—¥**: 1, 5, 10, 25, 30ã®ã„ãšã‚Œã‹ã®æ—¥
- **ãƒªãƒ“ã‚¸ãƒ§ãƒ³**: ä¸»ã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã‚’å«ã‚€ãƒã‚°ä¿®æ­£ã‚„DEEP-SCHOOL-FAMILY-SOFTWAREã®ã‚³ãƒ¼ãƒ‰æ›´æ–°
- **ãƒªãƒ“ã‚¸ãƒ§ãƒ³å…¬é–‹**: ä¿®æ­£æ¬¡ç¬¬å…¬é–‹ã—ã€1æ—¥å¾Œã«ãƒ¡ã‚¤ãƒ³ã‚µã‚¤ã‚¯ãƒ«ã«åŸ‹ã‚è¾¼ã‚€

### DEEP-SCHOOL-FAMILY-SOFTWARE UPDATE CYCLE

DEEP-SCHOOL-FAMILY-SOFTWAREã®ãƒ“ãƒ«ãƒ‰ç•ªå·æ›´æ–°ã¯ã€DEEP-SCHOOLã¨TOASTER-MACHINEã®ã‚µã‚¤ã‚¯ãƒ«ãŒåŒæ™‚ã«æ›´æ–°ã•ã‚Œã‚‹æ—¥ã«è¡Œã‚ã‚Œã‚‹ã€‚

- **ãƒªãƒªãƒ¼ã‚¹**: æ–°æ©Ÿèƒ½ãŒã„ãšã‚Œã‹ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å®Ÿè£…ã•ã‚Œæ¬¡ç¬¬è¡Œã‚ã‚Œã‚‹
- **æ›´æ–°ç¯„å›²**: ã“ã®æ™‚ã€ã™ã¹ã¦ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚³ãƒ¼ãƒ‰æ›´æ–°ãŒè¡Œã‚ã‚Œã‚‹
- **æ›´æ–°ã‚¿ã‚¤ãƒ—**: ã»ã¨ã‚“ã©ã®å ´åˆã€ãƒªãƒ“ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¨ã—ã¦è¡Œã‚ã‚Œã‚‹

## ä½¿ç”¨æ–¹æ³•

### 1. ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

#### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```bash
# å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤º
node version-cli.js all
npm run version:all

# ç‰¹å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤º
node version-cli.js get <component>
npm run version:<component>

# åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§
node version-cli.js list
npm run version:list

# ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
node version-cli.js check
npm run version:check

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
node version-cli.js compare <version1> <version2>

# ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
node version-cli.js help
npm run version:help
```

#### åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

- `family` - Deep-School Family Software
- `client` - Deep-School Client
- `server` - Deep-School Server
- `pickramu` - Pickramu
- `toaster` - Toaster-Machine

#### ä½¿ç”¨ä¾‹

```bash
# å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±è¡¨ç¤º
node version-cli.js all

# Deep-School Clientã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
node version-cli.js get client

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
node version-cli.js compare 1.0.1 1.0.2

# ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
node version-cli.js check
```

### 2. Deep-Shellçµ±åˆ (ãƒ–ãƒ©ã‚¦ã‚¶å†…)

#### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰

```javascript
// å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤º
ds.version.all()

// ç‰¹å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’è¡¨ç¤º
ds.version.get('client')
ds.version.get('server')
ds.version.get('pickramu')
ds.version.get('toaster')
ds.version.get('family')

// åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§
ds.version.list()

// ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
ds.version.check()

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
ds.version.compare('1.0.1', '1.0.2')

// ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
ds.help.version()
```

#### ä½¿ç”¨ä¾‹

```javascript
// å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã—ã¦è¡¨ç¤º
const allVersions = await ds.version.all();
console.log(allVersions);

// Deep-School Clientã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèª
const clientVersion = await ds.version.get('client');
console.log(clientVersion);

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
const comparison = ds.version.compare('1.0.1', '1.0.2');
console.log(comparison); // { result: -1, comparison: 'older' }
```

### 3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã¯ `version.config.json` ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã•ã‚Œã¾ã™ã€‚

```json
{
  "deepSchoolFamily": {
    "version": "25C0101",
    "status": "stable",
    "lastUpdated": "2025-01-01",
    "description": "Deep-School Family Software - Initial release"
  },
  "deepSchoolClient": {
    "version": "1.0.1",
    "status": "stable",
    "cycle": 1,
    "release": 0,
    "revision": 1,
    "lastUpdated": "2025-01-01",
    "description": "Deep-School Client - Initial stable release"
  },
  "deepSchoolServer": {
    "version": "1.0.1",
    "status": "stable",
    "cycle": 1,
    "release": 0,
    "revision": 1,
    "lastUpdated": "2025-01-01",
    "description": "Deep-School Server - Initial stable release"
  },
  "pickramu": {
    "version": "1.0.1",
    "status": "stable",
    "cycle": 1,
    "release": 0,
    "revision": 1,
    "lastUpdated": "2025-01-01",
    "description": "Pickramu - Initial stable release"
  },
  "toasterMachine": {
    "version": "1.0.1",
    "cycle": 1,
    "release": 0,
    "revision": 1,
    "lastUpdated": "2025-01-01",
    "description": "Toaster-Machine - Initial stable release"
  },
  "releaseSchedule": {
    "deepSchoolCycles": ["10-13", "10-03", "04-15", "09-01"],
    "toasterCycles": ["10-13", "10-03", "04-15", "09-01", "08-01", "12-26"],
    "releaseDays": [1, 5, 10, 25, 30],
    "nextCycleUpdate": "2025-04-15"
  }
}
```

## å‡ºåŠ›ä¾‹

### å…¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±è¡¨ç¤º

```
=== Deep-School Family Software Versions ===

ğŸŒ Deep-School Family: 25C0101 (stable)
   Last Updated: 2025-01-01
   Description: Deep-School Family Software - Initial release

ğŸ’» Deep-School Client: v1.0.1 (stable)
   Cycle: 1, Release: 0, Revision: 1
   Last Updated: 2025-01-01
   Description: Deep-School Client - Initial stable release

ğŸ–¥ï¸  Deep-School Server: v1.0.1 (stable)
   Cycle: 1, Release: 0, Revision: 1
   Last Updated: 2025-01-01
   Description: Deep-School Server - Initial stable release

ğŸ“š Pickramu: v1.0.1 (stable)
   Cycle: 1, Release: 0, Revision: 1
   Last Updated: 2025-01-01
   Description: Pickramu - Initial stable release

ğŸ Toaster-Machine: v1.0.1
   Cycle: 1, Release: 0, Revision: 1
   Last Updated: 2025-01-01
   Description: Toaster-Machine - Initial stable release

=== Release Schedule ===
Next Cycle Update: 2025-04-15
```

### ç‰¹å®šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¡¨ç¤º

```
=== CLIENT Version ===

Version: 1.0.1
Status: stable
Cycle: 1
Release: 0
Revision: 1
Last Updated: 2025-01-01
Description: Deep-School Client - Initial stable release
```

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ

```
Version comparison: 1.0.1 is older than 1.0.2
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
   ```
   Error: version.config.json not found
   ```
   - è§£æ±ºç­–: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `version.config.json` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèª

2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¦‹ã¤ã‹ã‚‰ãªã„**
   ```
   Error: Unknown component: invalid-component
   ```
   - è§£æ±ºç­–: åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåã‚’ç¢ºèª (`ds.version.list()` ã¾ãŸã¯ `node version-cli.js list`)

3. **Deep-Shellã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãŒå–å¾—ã§ããªã„**
   - è§£æ±ºç­–: ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ `ds.version.all()` ã‚’å®Ÿè¡Œã—ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

### ãƒ­ã‚°ç¢ºèª

Deep-Shellã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–¢é€£ã®ãƒ­ã‚°ã¯ä»¥ä¸‹ã®ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã§ç¢ºèªã§ãã¾ã™ï¼š

```javascript
// ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°ã‚’ç¢ºèª
ds.log.sw('sysout');

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã‚’ç¢ºèª
ds.log.sw('appout');
```

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°æ‰‹é †

1. `version.config.json` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
2. è©²å½“ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’æ›´æ–°
3. `lastUpdated` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç¾åœ¨ã®æ—¥ä»˜ã«æ›´æ–°
4. å¿…è¦ã«å¿œã˜ã¦ `description` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ›´æ–°

### æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¿½åŠ 

1. `version.config.json` ã«æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¨­å®šã‚’è¿½åŠ 
2. `Client/js/core/version.mjs` ã® `componentMap` ã«æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ 
3. `version-cli.js` ã® `components` é…åˆ—ã«æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ 

### API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

#### VersionManager ã‚¯ãƒ©ã‚¹

```javascript
// ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¨­å®šã‚’èª­ã¿è¾¼ã¿
await versionManager.loadVersionConfig()

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—
versionManager.getVersion(component)

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
versionManager.formatVersion(component)

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ¯”è¼ƒ
versionManager.compareVersions(version1, version2)

// ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯
versionManager.checkForUpdates()
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã¯ Deep-School ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¸€éƒ¨ã¨ã—ã¦ã€MPL-2.0 ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

**æ³¨æ„**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ Deep-School Version Management System v1.0.1 ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚æœ€æ–°ã®æƒ…å ±ã«ã¤ã„ã¦ã¯ã€å®Ÿéš›ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚ 